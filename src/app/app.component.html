<div igxLayout>
  <igx-nav-drawer #nav id="project-menu" isOpen="true" [enableGestures]='true' width="280px">
    <ng-template igxDrawer>
      <span igxDrawerItem [isHeader]="true"><igx-avatar src="assets/avatar_BG_blood.png" [roundShape]="'isCircular'" [size]="'small'"></igx-avatar></span>
      <span igxDrawerItem igxRipple routerLinkActive="igx-nav-drawer__item--active" routerLink="/home">Home</span>
      <span igxDrawerItem igxRipple routerLinkActive="igx-nav-drawer__item--active" routerLink="/team">Team</span>
    </ng-template>
  </igx-nav-drawer>
  <div igxFlex class="main">
    <igx-navbar title="Bellum Gens: Looking for Group" actionButtonIcon="menu" (onAction)="nav.toggle()">
        <button igxButton="raised" igxRipple="white" *ngIf="!steamUser" (click)="openLogin()">Login</button>
        <div *ngIf="steamUser">
          <button class="profile-button" igxButton="flat" [igxToggleAction]="userProfile">
            <igx-avatar [src]="steamUser.avatarMedium" roundShape="true"></igx-avatar>
            <igx-icon fontSet="material" name="arrow_drop_down" class="drop-down-arrow"></igx-icon>
          </button>
          <igx-drop-down #userProfile>
            <igx-drop-down-item class="profile-item">
              <igx-icon fontSet="material" name="person"></igx-icon>
              <a class="profile-link" [routerLink]="['/player-details', steamUser.steamID64]">profile</a>
            </igx-drop-down-item>
            <igx-drop-down-item class="profile-item">
              <igx-icon fontSet="material" name="notifications"></igx-icon>
              <a class="profile-link" [routerLink]="['/player-details', steamUser.steamID64]">notifications</a>
            </igx-drop-down-item>
            <igx-drop-down-item class="profile-item">
              <igx-icon fontSet="material" name="people"></igx-icon>
              <a class="profile-link" routerLink="/team">team</a>
            </igx-drop-down-item>
            <igx-drop-down-item class="profile-item">
              <igx-icon fontSet="material" name="exit_to_app"></igx-icon>
              <a class="profile-link" href="#" (click)="logout()">logout</a>
            </igx-drop-down-item>
          </igx-drop-down>
        </div>
    </igx-navbar>
    <div class="content">
      <router-outlet></router-outlet>

      <div class="discord-container">
          <iframe src="https://discordapp.com/widget?id=314362408783052800&theme=light" width="350" height="884" allowtransparency="true" frameborder="0"></iframe>
      </div>
    </div>
  </div>
  <igx-dialog closeOnOutsideSelect="true" title="Sign in with Steam" width="600px">
    <button type="icon" IgxButton class="steam-login" (click)="login('Steam')"></button>
  </igx-dialog>
</div>
