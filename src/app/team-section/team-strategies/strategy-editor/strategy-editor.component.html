<div class="strat-editor-host">
  <div class="editor-elements">
    <img *ngFor="let map of maps" class="map-choice" width="220px" [src]="map.image" (click)="changeMap(map)" />
  </div>
  <canvas #board igxDrop (onDrop)="surfaceDrop($event)"></canvas>
  <div class="editor-elements">
    <div class="editor-elements-section">
      <div>Team</div>
      <igx-avatar *ngFor="let member of team?.Members"
                  [src]="member.SteamUser.avatarIcon"
                  [igxDrag]="{ src: member.SteamUser.avatarIcon, circle: true, width: 24, height: 24 }"
                  class="editor-element-icon"
                  [title]="member.SteamUser.steamID"
                  roundShape="true">
      </igx-avatar>
    </div>
    <div class="editor-elements-section">
      <div>Utility</div>
      <igx-icon *ngFor="let util of utility"
                [fontSet]="util.fontSet"
                [name]="util.icon"
                [title]="util.name"
                class="editor-element-icon"
                [igxDrag]="{ src: util.svg, circle: false, width: 20, height: 20 }">
      </igx-icon>
    </div>
    <div class="editor-elements-section">
      <div>Freeflow brushes</div>
    </div>
    <div class="editor-elements-section">
      <div>Layers</div>
      <igx-list>
        <igx-list-item *ngFor="let layer of layers">
          <igx-input-group [ngClass]="layer.hidden ? 'hidden-layer' : ''">
            <igx-prefix>
              <igx-icon (click)="layer.hidden = !layer.hidden">{{ layer.hidden ? 'visibility' : 'visibility_off'}}</igx-icon>
            </igx-prefix>
            <input igxInput [(ngModel)]="layer.name">
            <igx-suffix>
              <igx-icon (click)="confirm.open(layer)">clear</igx-icon>
            </igx-suffix>
          </igx-input-group>
        </igx-list-item>
      </igx-list>
    </div>
    <div class="editor-elements-section">
      <button igxButton="raised" igxRipple (click)="saveStrat()">Save</button>
    </div>
  </div>
</div>

<app-confirm #confirm title="Are you sure?" (ok)="deleteLayer($event)">
  Are you sure you want to delete this layer...
</app-confirm>