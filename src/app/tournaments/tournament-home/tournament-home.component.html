<div class="home-page-slide">
  <div class="slide slide1">
    <div class="slide-info">
      <h1>CS:GO League</h1>
      <p>Първото издание на Esports Business League ще се проведе есента на 2019. До 16 отбора ще премерят сили в CS:GO лига, всеки срещу всеки и ще събират точки за участие в LAN финалите.</p>
      <button igxButton="raised" igxButtonColor="#fff" (click)="selectGame(gameEnum.CSGO)">Записване за CS:GO лига</button>
    </div>
  </div>
  <div class="slide slide2">
    <div class="slide-info">
      <h1>StarCraft II League</h1>
      <p>Първото издание на Esports Business League ще се проведе есента на 2019. До 32 състезателя ще премерят сили в StarCraft II лига, всеки срещу всеки и ще събират точки за участие в LAN финалите.</p>
      <button igxButton="raised" igxButtonColor="#fff" (click)="selectGame(gameEnum.StarCraft2)">Записване за StarCraft II лига</button>
    </div>
  </div>
</div>

<app-login-dialog #loginDialog></app-login-dialog>
<app-team-new #newTeam [authUser]="authUser"></app-team-new>

<div class="content-container">
  <form #tapplication="ngForm" class="content-container-row registration-form" (ngSubmit)="leagueRegistration()">

    <igx-divider></igx-divider>
    <h4 class="registration-title">Регистрация</h4>

    <igx-select name="game" required class="registration-form-input" [(ngModel)]="application.Game" (ngModelChange)="showDetails()">
      <label igxLabel>Изберете лига (игра)</label>
      <igx-select-item *ngFor="let game of games" [value]="game.id">
        {{ game.name }}
      </igx-select-item>
    </igx-select>

    <div #appDetails class="application-details">

      <igx-input-group class="registration-form-input">
        <label igxLabel for="email">Имейл адрес</label>
        <igx-prefix>
          <igx-icon>email</igx-icon>
        </igx-prefix>
        <input type="email" id="email" #userMail name="email" required igxInput pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" [(ngModel)]="application.Email" />
        <igx-suffix *ngIf="userMail.value" (click)="application.Email = null">
          <igx-icon>clear</igx-icon>
        </igx-suffix>
      </igx-input-group>

      <igx-select id="team" #team name="team" required [(ngModel)]="application.TeamId" class="registration-form-input" *ngIf="application.Game === gameEnum.CSGO" >
        <label igxLabel for="email">Изберете своя отбор</label>
        <igx-prefix>
          <igx-icon>people</igx-icon>
        </igx-prefix>
        <igx-select-item *ngFor="let team of authUser?.teams" [value]="team.TeamId">
          <igx-avatar [src]="team.TeamAvatar" [initials]="team.TeamName" class="team-avatar" roundShape="true"></igx-avatar>
          <p class="team-name">{{ team.TeamName }}</p>
        </igx-select-item>
        <igx-select-item (click)="newTeam.open(false)">
          Създай нов отбор...
        </igx-select-item>
      </igx-select>

      <igx-input-group class="registration-form-input" *ngIf="application.Game === gameEnum.StarCraft2" >
        <label igxLabel for="email">Battle tag</label>
        <igx-prefix>
          <igx-icon fontSet="login-icons" name="BattleNet"></igx-icon>
        </igx-prefix>
        <input id="battletag" #battletag name="battletag" required igxInput pattern="^[a-z0-9._%+-]+#[0-9]{4}$" [(ngModel)]="application.BattleNetId" />
        <igx-suffix *ngIf="battletag.value" (click)="application.BattleNetId = null">
          <igx-icon>clear</igx-icon>
        </igx-suffix>
      </igx-input-group>

      <igx-input-group class="registration-form-input">
        <label igxLabel for="company">Компания</label>
        <igx-prefix>
          <igx-icon>work</igx-icon>
        </igx-prefix>
        <input id="company" #company name="company" igxInput [igxAutocomplete]="companiesDD" [(ngModel)]="application.CompanyId" required />
        <igx-suffix *ngIf="company.value" (click)="application.CompanyId = null">
          <igx-icon>clear</igx-icon>
        </igx-suffix>
      </igx-input-group>
      <igx-drop-down #companiesDD maxHeight="320px">
        <igx-drop-down-item *ngFor="let company of companies | startsWith:application.CompanyId" [value]="company">
          {{ company }}
        </igx-drop-down-item>
      </igx-drop-down>

      <div class="registration-form-input">
        <igx-checkbox required id="accept" name="accept"></igx-checkbox>
        <label for="accept">Приемам условията за записване.</label>
      </div>

      <button igxButton="outlined" class="submit-registration" [disabled]="tapplication.invalid">Регистрирай ме</button>
    </div>
    <igx-divider></igx-divider>
  </form>

  <div class="content-container-column left-column">
    <img src="/assets/wallpapers/LandingPage_image_1.webp" class="preview-image" alt="Esports Business League" />
  </div>
  <div class="content-container-column">
    <h4>Какво е Esports Business League?</h4>
    <p>Esports Business League предоставя арена за аматьорска състезание между отбори сформирани на работното място. Първият сезон на лигата ще се проведе в рамките на 8 седмици, като всяка седмица ще се провеждат по 2 срещи, след работно време в делнични дни (без петък). Лигата ще приключи с LAN финали до които ще достигнат отборите и играчите с най-много събрани точки през сезона. Всички срещи от лигата ще бъдат излъчвани и коментирани на живо по <a href="https://www.twitch.tv/" target="_blank" rel="noopener">twitch.tv</a>.</p>
  </div>

  <div class="content-container-column left-column">
    <h4>Условия за записване</h4>
    <p>Единственото условие за участие е всички членове на отбора да бъдат текущи сложители на работното място към което е асоцииран отбора. Същото условие важи и за индивидуалните състезатели (StarCraft II). При записване ще се изисква да се предостави информация за това коя е компанията която отбора/индивидуалния състезател представлява.</p>
    <p>Записването ще бъде отворено до изтичане на крайния срок, или достигане на максималния брой отбори (16 CS:GO), или индивидуални състезатели (32 StarCraft II). Приключването на регистрацията изисква и заплащането на входна такса - 300лв. с вкл. ДДС на отбор или 60лв. с вкл. ДДС на индивидуален състезател.</p>
    <p>Всички учасници ще получат ексклузивно Esports Business League jersey!</p>
  </div>
  <div class="content-container-column">
    <img src="/assets/wallpapers/LandingPage_image_2.webp" class="preview-image" alt="Terms and Conditions" />
  </div>

  <div class="content-container-row">
    <igx-divider></igx-divider>
    <h2>Формат на Лигата</h2>
  </div>

  <div class="content-container-column justify-start">
    <h4>CS:GO Лига</h4>
    <ul>
      <li>8 седмици - формат лига</li>
      <li>2 срещи седмично за всеки отбор</li>
      <li>Всеки срещу всеки, до изчерпване на противниците</li>
      <li>Всеки отбор събира точки седмично</li>
      <li>LAN финал уикенд между 4те отбора събрали най-много точки</li>
    </ul>
  </div>

  <div class="content-container-column justify-start">
    <h4>StarCraft II Лига</h4>
    <ul>
      <li>8 седмици - формат лига</li>
      <li>4 срещи седмично за всеки играч</li>
      <li>Всеки срещу всеки, до изчерпване на противниците</li>
      <li>Всеки играч събира точки седмично</li>
      <li>LAN финал уикенд между 8те играча събрали най-много точки</li>
    </ul>
  </div>

  <div class="content-container-row">
    <igx-divider></igx-divider>
    <h2>Награди</h2>
  </div>

  <div class="content-container-column justify-start">
    <h4>CS:GO Лига</h4>
    <p>Отборите финалисти в лигата по CS:GO ще се състезават за награди на обща стойност €8000.</p>
    <p>Отборът победител в CS:GO лигата ще получи Global Elite Pass за ESL One Cologne 2020.</p>
    <img src="/assets/wallpapers/Global_elite_experience.webp" alt="ESL One Cologne 2020 Global Elite Pass (5 man)" />
  </div>

  <div class="content-container-column justify-start">
    <h4>StarCraft II Лига</h4>
    <p>Финалистите в лигата по StarCraft II ще се състезават за награди на обща стойност €2000.</p>
    <p>Победителят в StarCraft II лигата ще получи най-високият клас билет за BlizCon 2020.</p>
    <img src="/assets/wallpapers/blizz_con.webp" alt="BlizCon 2020 Ticket" />
  </div>

  <div class="content-container-row">
    <igx-divider></igx-divider>
    <h2>Контакти</h2>
    <p>Изпращайте ни въпроси на <a href="mailto:info@eb-league.com">info@eb-league.com</a></p>
    <p>Или в социалните мрежи <a href="https://www.facebook.com/esportsbleague/" target="_blank" rel="noopener">facebook</a>, <a href="https://twitter.com/EsportBLeague" target="_blank" rel="noopener">twitter</a></p>

    <form #subscription="ngForm" class="content-container-row registration-form" (ngSubmit)="subscribe()">
      <p>Ако искате да получавате известия от нас, моля оставете вашият имейл адрес!</p>
      <div class="horizontal">
        <igx-input-group type="border" class="subscription-form-input">
          <label igxLabel for="subemail">Имейл адрес</label>
          <igx-prefix>
            <igx-icon>email</igx-icon>
          </igx-prefix>
          <input type="email" id="subemail" #subMail name="subemail" igxInput pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" [(ngModel)]="userEmail" />
          <igx-suffix *ngIf="subMail.value" (click)="userEmail = null">
            <igx-icon>clear</igx-icon>
          </igx-suffix>
        </igx-input-group>

        <button igxButton="outlined" class="submit-email" [disabled]="subscription.invalid || !userEmail">Запиши се</button>
      </div>
    </form>
  </div>
</div>
