<div *ngIf="loading" class="loading-overview">
  <igx-circular-bar class="loading-user-data" [indeterminate]="true"></igx-circular-bar>
</div>

<div *ngIf="!loading" class="horizontal">
  <igx-card *ngFor="let player of players" igxRipple class="search-result" [routerLink]="['/players', player.steamUser.steamID64]">
    <igx-card-header>
      <div class="horizontal-center">
        <igx-avatar [src]="player.steamUser.avatarMedium" [size]="'medium'" [initials]="player.steamUser.steamID" roundShape="true"></igx-avatar>
        <div class="horizontal-info__left">
          <div class="igx-card-header__tgroup">
            <h3 class="igx-card-header__title highlight">{{ player.steamUser.steamID }}</h3>
            <h5 class="igx-card-header__subtitle">{{ player.steamUser.realname }}</h5>
          </div>
        </div>

        <div class="horizontal-info__right--column">
          <div class="horizontal-center">
            <igx-circular-bar class="icon-avatar" [value]="player.userStats.killDeathRatio" [max]="2" [animate]="true" [textVisibility]="false" title="KDR"></igx-circular-bar>
            <span class="title margin-left">{{ player.userStats.killDeathRatio }}</span>
          </div>
          <div class="horizontal-center">
            <igx-icon fontSet="weapon-icons" name="headshot" class="icon-avatar"></igx-icon>
            <span class="title margin-left">{{ player.userStats.headshotPercentage | number:'1.2' }}%</span>
          </div>
        </div>
      </div>
    </igx-card-header>
    <igx-card-content>
      <div>Preferred roles</div>
      <igx-chips-area>
        <igx-chip [selectable]="false">
          <span class='igx-chip__text'>{{ player?.roles[player.primaryRole].Name }}</span>
        </igx-chip>
        <igx-chip [selectable]="false">
          <span class='igx-chip__text'>{{ player?.roles[player.secondaryRole].Name }}</span>
        </igx-chip>
      </igx-chips-area>
      <div>Practice days</div>
      <igx-chips-area>
        <igx-chip *ngFor="let weekday of player.availability | daysAvailable"
                  [selectable]="false">
          <span class='igx-chip__text'>{{ weekday.Day | weekday }}</span>
        </igx-chip>
      </igx-chips-area>
    </igx-card-content>
  </igx-card>
</div>