<igx-expansion-panel [collapsed]="false" class="search-box">
  <igx-expansion-panel-header>
    <igx-expansion-panel-title>Search players</igx-expansion-panel-title>
  </igx-expansion-panel-header>
  <igx-expansion-panel-body class="search-body">
    <form (ngSubmit)="searchPlayers()">
      <label for="lineup">Players playing as:</label>
      <div class="search-radio-group">
        <igx-radio-group id="lineup" class="role-slots">
          <igx-radio *ngFor="let slot of activeLineup" [(ngModel)]="searchModel.role" name="role" [value]="slot.role">{{ slot.roleName }}</igx-radio>
        </igx-radio-group>
      </div>

      <div *ngIf="authUser && authUser.TeamAdmin">
        <label for="availability">A minimum overlap with my:</label>
        <div class="search-radio-group">
          <igx-radio-group id="availability" class="role-slots">
            <igx-radio [(ngModel)]="userOverlap" name="userOverlap" [value]="0">Availability</igx-radio>
            <igx-radio [(ngModel)]="userOverlap" name="userOverlap" [value]="1">Team practice</igx-radio>
          </igx-radio-group>
        </div>
      </div>

      <button type="button" *ngIf="userOverlap" class="submit-button drop-down-button" igxButton="flat" [igxToggleAction]="teamSelect">
        {{teamName}}
        <igx-icon fontSet="material" class="drop-down-arrow">arrow_drop_down</igx-icon>
      </button>
      <igx-drop-down (onSelection)="selectTeam($event)" #teamSelect>
        <igx-drop-down-item class="team-invites" [value]="team" *ngFor="let team of authUser?.TeamAdmin">
          <igx-avatar [src]="team.TeamAvatar" [initials]="team.TeamName" roundShape="true">
          </igx-avatar>
          <span class="title margin-left">
            {{ team.TeamName }}
          </span>
        </igx-drop-down-item>
      </igx-drop-down>

      <igx-input-group *ngIf="authUser">
        <igx-prefix>
            <igx-icon>search</igx-icon>
        </igx-prefix>
        <label igxLabel for="overlap">Minimum availability overlap of...</label>
        <input #overlap type="number" [(ngModel)]="searchModel.scheduleOverlap" name="scheduleOverlap" autocomplete="off" igxInput>
        <igx-suffix *ngIf="overlap.value !== '0'">
            <igx-icon (click)="searchModel.scheduleOverlap = 0">clear</igx-icon>
        </igx-suffix>
        <igx-hint>
          Hours
        </igx-hint>
      </igx-input-group>
      
      <igx-input-group>
        <igx-prefix>
            <igx-icon>search</igx-icon>
        </igx-prefix>
        <label igxLabel for="search">Player name contains...</label>
        <input #search [(ngModel)]="searchModel.name" name="name" autocomplete="off" igxInput>
        <igx-suffix *ngIf="search.value.length">
            <igx-icon (click)="searchModel.name = ''">clear</igx-icon>
        </igx-suffix>
        <igx-hint>
          Searching by name ignores other search criterial...
        </igx-hint>
      </igx-input-group>
      <button class="submit-button" igxButton="flat" (click)="searchPlayers()">Submit</button>
    </form>
    <div *ngIf="!authUser">
      <p><b class="highlight">NOTE: </b>Signing in gives you access to more advanced search options!</p>
      <app-login></app-login>
    </div>
  </igx-expansion-panel-body>
</igx-expansion-panel>