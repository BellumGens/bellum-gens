<div class="card-wrapper">
  <p *ngIf="!authUser">You need to login to view your teams.</p>
  <p *ngIf="authUser && !authUser.teams.length">You are not part of any teams.</p>
  <button *ngIf="authUser" class="submit-button" igxButton="outlined" igxRipple (click)="createTeam.open()"><igx-icon>add_circle_outline</igx-icon> Create New Team</button>

  <igx-card class="team-card" *ngFor="let team of authUser?.teams">
    <igx-card-header>
      <igx-avatar igxCardThumbnail [src]="team.TeamAvatar" [initials]="team.TeamName" [roundShape]="true"></igx-avatar>
      <h3 igxCardHeaderTitle>{{ team.TeamName }}</h3>
    </igx-card-header>
    <igx-card-content>
      <p>{{ team.Description }}</p>
    </igx-card-content>
    <igx-card-actions>
      <button igxButton="outlined" igxRipple [routerLink]="['/team', team.CustomUrl]"><igx-icon>visibility</igx-icon>Team Details</button>
      <button igxButton="outlined" igxRipple (click)="confirm.open(team)"><igx-icon>delete_forever</igx-icon> Abandon Team</button>
    </igx-card-actions>
  </igx-card>
</div>

<app-team-new #createTeam [authUser]="authUser"></app-team-new>

<bg-confirm #confirm title="Are you sure?" (ok)="abandonTeam($event)">
  You will leave this team permanently. If you own the team and are the only team member, then the team will also be deleted...
</bg-confirm>
